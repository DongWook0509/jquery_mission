<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <title>Document</title>
    <style>

       /*
       핵심은 늘어나는 요소 header의 높이가 바뀌어도 다른 요소들이 모르도록 position:absolute를 적용하는 것입니다. 
       그러면 다른 요소들이 해당 요소의 존재자체를 모르고 위로 올라오기때문에 body에 padding-top을 주어 공간을 만들어 줍니다.
       */
       * {margin:0; padding:0;}
       ul li {list-style:none;}
       .clearfix{display:flex}
       body {background:green; overflow-y:scroll;padding-top:100px;}

       header {	
	   background:linear-gradient(white 50px, rgba(255,255,255,0.8) 50px, rgba(255,255,255,0.8) );
	   height:50px;
	   overflow:hidden;
	   position:absolute;
	   left:0; right:0;
	   top:0;
       }

       nav {width:960px; margin:0 auto;}
       nav > ul > li {line-height:50px; margin-right:40px;}
       nav > ul > li ul{ width:100%;}

       main p{
       margin-bottom:27px;
       }

    </style>
</head>
<body>
    <header>
        <nav>
                <ul class="clearfix">
                    <li>1st menu
                            <ul>
                                <li>2nd menu</li>
                            </ul>
                    </li>
                    <li>1st menu
                            <ul>
                                <li>2nd menu menu</li>
                                <li>2nd menu</li>
                                <li>2nd menu</li>
                                <li>2nd menu</li>
                            </ul>
                    </li>
                    <li>1st menu
                            <ul>
                                <li>2nd menu</li>
                                <li>2nd menu</li>
                            </ul>
                    </li>
                    <li>1st menu
                            <ul>
                                <li>2nd menu</li>
                                <li>2nd menu</li>
                                <li>2nd menu</li>
                            </ul>
                    </li>				
    
                </ul>
        </nav>
    </header>
    <main>
        <h2>Main title</h2>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Odit, cupiditate! Repudiandae ad neque provident accusamus temporibus. Doloribus dolores nisi inventore accusamus aperiam quam ratione minus repudiandae. Rem fuga impedit odio.</p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Odit, cupiditate! Repudiandae ad neque provident accusamus temporibus. Doloribus dolores nisi inventore accusamus aperiam quam ratione minus repudiandae. Rem fuga impedit odio.</p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Odit, cupiditate! Repudiandae ad neque provident accusamus temporibus. Doloribus dolores nisi inventore accusamus aperiam quam ratione minus repudiandae. Rem fuga impedit odio.</p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Odit, cupiditate! Repudiandae ad neque provident accusamus temporibus. Doloribus dolores nisi inventore accusamus aperiam quam ratione minus repudiandae. Rem fuga impedit odio.</p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Odit, cupiditate! Repudiandae ad neque provident accusamus temporibus. Doloribus dolores nisi inventore accusamus aperiam quam ratione minus repudiandae. Rem fuga impedit odio.</p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Odit, cupiditate! Repudiandae ad neque provident accusamus temporibus. Doloribus dolores nisi inventore accusamus aperiam quam ratione minus repudiandae. Rem fuga impedit odio.</p>		
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Odit, cupiditate! Repudiandae ad neque provident accusamus temporibus. Doloribus dolores nisi inventore accusamus aperiam quam ratione minus repudiandae. Rem fuga impedit odio.</p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Odit, cupiditate! Repudiandae ad neque provident accusamus temporibus. Doloribus dolores nisi inventore accusamus aperiam quam ratione minus repudiandae. Rem fuga impedit odio.</p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Odit, cupiditate! Repudiandae ad neque provident accusamus temporibus. Doloribus dolores nisi inventore accusamus aperiam quam ratione minus repudiandae. Rem fuga impedit odio.</p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Odit, cupiditate! Repudiandae ad neque provident accusamus temporibus. Doloribus dolores nisi inventore accusamus aperiam quam ratione minus repudiandae. Rem fuga impedit odio.</p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Odit, cupiditate! Repudiandae ad neque provident accusamus temporibus. Doloribus dolores nisi inventore accusamus aperiam quam ratione minus repudiandae. Rem fuga impedit odio.</p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Odit, cupiditate! Repudiandae ad neque provident accusamus temporibus. Doloribus dolores nisi inventore accusamus aperiam quam ratione minus repudiandae. Rem fuga impedit odio.</p>	
    </main>
    <script>
        /*첫번째 메뉴에 마우스가 들어오면 
        마우스가 들어온 그 메뉴의 서브메뉴의 높이를 변수명 subHeight로 저장하고
        기존 header 높이에 더한값을 header의 높이로 0.3s 걸처 애니메이트 되도록 
        */

        /*
        setTimeout(할일, 시간); 할일
        */

        $(function(){
           var $firstMenu = $('nav > ul > li'),
               $header = $('header'),
               $headerHeight = $header.outerHeight();

           $firstMenu.mouseenter(function(){
                var subHeight = $(this).find('ul').outerHeight();
                $header.stop().animate({height : $headerHeight + subHeight + 'px'}, 300);
           })
           .mouseleave(function(){
                $header.stop().animate({height : $headerHeight + 'px'}, 300);
           })
        })
    </script>
</body>
</html>